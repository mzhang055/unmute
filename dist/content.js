(()=>{"use strict";class e{constructor(){if(e.instance)return e.instance;e.instance=this,this.init()}init(){this.setupMessageListener(),this.log("Content script loaded")}setupMessageListener(){chrome.runtime.onMessage.addListener((e,t,n)=>(this.handleMessage(e,t,n),!0))}async handleMessage(e,t,n){try{if(this.log("Received message:",e),"buttonClicked"!==e.action)throw new Error(`Unknown action: ${e.action}`);await this.handleButtonClick(),n({status:"success",message:"Button click handled"})}catch(e){console.error("Content script error:",e),n({status:"error",message:e instanceof Error?e.message:"Unknown error"})}}async handleButtonClick(){this.log("Button clicked in popup"),this.addVisualIndicator()}addVisualIndicator(){const e=document.getElementById("unmute-indicator");e&&e.remove();const t=document.createElement("div");t.id="unmute-indicator",t.textContent="Unmute Extension Active!",t.style.cssText="\n      position: fixed;\n      top: 20px;\n      right: 20px;\n      background: #1a73e8;\n      color: white;\n      padding: 12px 16px;\n      border-radius: 6px;\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n      font-size: 14px;\n      font-weight: 500;\n      z-index: 10000;\n      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);\n      transition: opacity 0.3s ease;\n    ",document.body.appendChild(t),setTimeout(()=>{t.style.opacity="0",setTimeout(()=>t.remove(),300)},3e3)}log(e,...t){console.log(`[Unmute Content Script] ${e}`,...t)}}new e})();